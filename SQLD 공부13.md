# SQLD 공부

## 2과목 SQL 기본 및 활용 (SQL 최적화 기본 원리)

#### 1. 옵티마이저(Optimizer)와 실행계획

+ **옵티마이저(Optimizer)**
  
  + 사용자의 SQL문에 대해 최적의 실행 방법을 결정하는 것.



+ **SQL 최적화 과정**
  
  1. SQL Parshing : SQL문장을 이루는 개별 요소 분석
  
  2. Optimization : 일반적 쿼리로 변환, 비용 계산, 실행 계획 후보 선정
  
  3. Row-Source Generation : 실행계획을 실제 실행하는 코드로 포맷
  
  4. Execution : SQL 실행.



+ **옵티마이저 유형**
  
  | 유형                                   | 설명                                                           |
  | ------------------------------------ | ------------------------------------------------------------ |
  | 규칙기반 옵티마이저<br>(Rule Based Optimizer) | 우선순위를 기반으로 실행계획 생성                                           |
  | 비용기반 옵티마이저<br>(Cost Based Optimizer) | 통계 정보를 사용하여 예상 소요시간, 자원 사용량을 계산해 실행계획 선택<br>(기본적으로 사용하는 유형.) |



+ **규칙기반 옵티마이저(Rule Based Optimizer)**
  
  + 실행계획을 수립할 때 15개의 우선순위를 기준으로 수립.
  
  + 제일 높은 우선순위 : ROWID(행ID)사용.
  
  + 제일 낮은 우선순위 : 전체 테이블을 스캔하는 방식.



+ **비용기반 옵티마이저(Cost Based Optimizer)**
  
  + 통계 정보를 바탕으로 비용을 계산하는 방식이기 때문에 통계 정보가 없거나 부족할 경우 성능 저하가 발생할 수 있음.





+ **실행계획(Execution Plan)**
  
  + 옵티마이저의 실행계획은 SQL 성능에 중요한 역할.
  
  + 실제 처리 건수에 대해서는 알 수 없음.
  
  + 실행계획의 구성 요소
    
    | 구성요소   | 설명                             |
    | ------ | ------------------------------ |
    | 액세스 기법 | 테이블을 액세스할 때 사용하는 방법            |
    | 조인 순서  | 테이블 조인할 때 참조하는 테이블 순서          |
    | 조인 기법  | 테이블 조인할 때 사용하는 방법              |
    | 최적화 정보 | 단계별로 예상되는 비용 정보 (=질의 처리 예상 비용) |
    
    
  
  + 
